---
# Container Post-Deployment Setup f√ºr Debian
- name: "Update Package Cache"
  shell: "pct exec {{ container_id }} -- apt-get update"
  register: apt_update_result

- name: "Upgrade All Packages"
  shell: "pct exec {{ container_id }} -- apt-get upgrade -y"
  register: apt_upgrade_result

- name: "Install German Locales Package"
  shell: "pct exec {{ container_id }} -- apt-get install -y locales"

- name: "Deutsche Sprache und Zeit konfigurieren"
  shell: |
    pct exec {{ container_id }} -- sed -i 's/# de_DE.UTF-8 UTF-8/de_DE.UTF-8 UTF-8/' /etc/locale.gen
    pct exec {{ container_id }} -- locale-gen
    pct exec {{ container_id }} -- update-locale LANG=de_DE.UTF-8
    pct exec {{ container_id }} -- ln -sf /usr/share/zoneinfo/Europe/Berlin /etc/localtime
